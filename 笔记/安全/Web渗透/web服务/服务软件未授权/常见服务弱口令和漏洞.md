
admin  初始密码一般设为 12345 123456  888888  admin

**海康威视**

默认账户密码：
admin 12345


**SNMP 服务存在可写口令**

    172.23.60.11

- `snmpwalk -v 2c -c public 192.168.xxx.xxx`

 snmpwalk -v 2c -c public 221.231.99.28:161 system 

snmpwalk -v 2c -c public 10.103.33.1

snmp://public:@221.231.99.28:161
```

1.普通选项

a)  –h                显示帮助
b)  –v 1|2c|3         指定SNMP协议版本
c)  –V                显示当前SNMPWALK命令行版本
d)  –r RETRIES        指定重试次数，默认为0次。
e)  –t TIMEOUT        指定每次请求的等待超时时间，单为秒，默认为3秒。
f)  –Cc               指定当在WALK时，如果发现OID负增长将是否继续WALK。

2.V1、V2C选项

a)  –c COMMUNITY      指定共同体字符串

3.V3选项

a)  –l LEVEL          指定安全级别：noAuthNoPriv|authNoPriv|authPriv
b)  –u USER-NAME      安全名字
c)  –a PROTOCOL       验证协议：MD5|SHA。如果-l指定为authNoPriv或authPriv时才需要。
d)  –A PASSPHRASE     验证字符串。如果-l指定为authNoPriv或authPriv时才需要。
e)  –x PROTOCOL       加密协议：DES。如果-l指定为authPriv时才需要。


实例

# snmptranslate -On -IR HOST-RESOURCES-MIB::hrSystem     #在MIB OID 在数字和文字名称之间进行转换
# snmpwalk -c public -v 1 -m ALL 192.168.30.49.1.3.6.1.2.1.25.1     #得到取得  windows 端的系统进程用户数等
# snmpwalk -c public -v 1 -mALL 192.168.30.49 .1.3.6.1.2.1.25.2.2     #取得系统总内存
# snmpwalk -c public -v 1 -m ALL192.168.30.49 .1.3.6.1.2.1.4.20     #取得 ip 信息
# snmpwalk -v 2c -c public192.168.30.49 system     #查看系统信息

得到取得 windows 端的系统进程用户数等.其中 -v 是指版本，-c 是指密钥也就是客户端  snmp.conf 里面所设置的，下面类同。
# snmpwalk -v 1 192.168.30.49 -c public ifDescr1、snmpwalk -v 2c -c public  10.103.33.1.1.3.6.1.2.1.25.1     

# snmpwalk -v 2c -c public 10.103.33.1 .1.3.6.1.2.1.25.2.2     #取得系统总内存
# snmpwalk -v 2c -c public 10.103.33.1 hrSystemNumUsers     #取得系统用户数
# snmpwalk -v 2c -c public 10.103.33.1 .1.3.6.1.2.1.4.20     #取得IP信息
# snmpwalk -v 2c -c public 10.103.33.1 system     #查看系统信息
# snmpwalk -v 2c -c public 10.103.33.1 ifDescr     #获取网卡信息

# snmpwalk -v 2c -c public 10.103.33.1     #获取所有系统信息
```
---

nmap -sS -sV -Pn -p 445 --script="smb-security-mode" 221.231.99.28:161

## 返回有关SMB确定的SMB安全级别的信息
```
nmap -sS -sV -Pn -p 445 --script="smb-security-mode" 127.0.0.1
```



## 确定SMBv2服务器中的邮件签名配置
```
nmap -sS -sV -Pn -p 445 --script="smb2-security-mode" 127.0.0.1
```


# SNMP Agent Default Community Name (public)

1. 漏洞介绍
          
```
SNMP 是专门设计用于在 IP 网络管理网络节点（服务器、工作站、路由器、交换机及HUBS等）的一种标准协议，它是一种应用层协议。 SNMP 使网络管理员能够管理网络效能，发现并解决网络问题以及规划网络增长。通过 SNMP 接收随机消息（及事件报告）网络管理系统获知网络出现问题。

snmp默认团体名属于snmp默认弱口令public。
```

2. 漏洞危害
```
管理员配置不当运行默认团体名访问,将导致敏感信息泄露。敏感不限于系统运行的进程、已安装的软件、系统存在的用户，运行的服务，端口情况等。
```

3. 漏洞修复
```
修改配置文件/etc/snmp/snmpd.conf ，修改默认团体名public为其他复杂的密码。然后重新启动SNMP服务。
```



